"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{900:(e,r,t)=>{t.d(r,{p:()=>s});var n=t(8081),a=t(2149),o=t(7687);let s=a.forwardRef((e,r)=>{let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});s.displayName="Input"},5160:(e,r,t)=>{t.d(r,{$:()=>c,r:()=>d});var n=t(8081),a=t(2149),o=t(5169),s=t(3484),i=t(7687);let d=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:s,asChild:c=!1,...l}=e,u=c?o.DX:"button";return(0,n.jsx)(u,{className:(0,i.cn)(d({variant:a,size:s,className:t})),ref:r,...l})});c.displayName="Button"},7124:(e,r,t)=>{t.d(r,{BE:()=>c,Er:()=>d,NQ:()=>p,Od:()=>g,TZ:()=>l,encryptMessage:()=>u,signMessage:()=>f});let n=window.crypto,a=n.subtle;function o(e){let r=new Uint8Array(e),t="";for(let e=0;e<r.byteLength;e++)t+=String.fromCharCode(r[e]);return btoa(t)}function s(e){let r=atob(e),t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t.buffer}function i(e){return new TextEncoder().encode(e).buffer}async function d(e,r){let t=r||function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Array.from(n.getRandomValues(new Uint8Array(16))).map(e=>e.toString(16).padStart(2,"0")).join("")}(),o=i(t),s=i(e),d=await a.importKey("raw",s,{name:"PBKDF2"},!1,["deriveBits"]);return{hash:Array.from(new Uint8Array(await a.deriveBits({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-512"},d,512))).map(e=>e.toString(16).padStart(2,"0")).join(""),salt:t}}async function c(e,r,t){let{hash:n}=await d(e,t);return function(e,r){if(e.length!==r.length)return!1;let t=0;for(let n=0;n<e.length;n++)t|=e.charCodeAt(n)^r.charCodeAt(n);return 0===t}(n,r)}async function l(){try{let e=await a.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),r=await a.exportKey("spki",e.publicKey),t=await a.exportKey("pkcs8",e.privateKey);return{publicKey:o(r),privateKey:o(t)}}catch(e){return console.error("Error generating key pair:",e),{publicKey:"",privateKey:""}}}async function u(e,r){try{let t=s(r),n=await a.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"]),d=i(e),c=await a.encrypt({name:"RSA-OAEP"},n,d);return o(c)}catch(r){return console.error("Error encrypting message:",r),btoa(e)}}async function p(e,r){try{var t;let n=s(r),o=await a.importKey("pkcs8",n,{name:"RSA-OAEP",hash:"SHA-256"},!1,["decrypt"]),i=s(e);return t=await a.decrypt({name:"RSA-OAEP"},o,i),new TextDecoder().decode(t)}catch(r){return console.error("Error decrypting message:",r),atob(e)}}async function f(e,r){try{let t=s(r),n=await a.importKey("pkcs8",t,{name:"RSA-PSS",hash:"SHA-256"},!1,["sign"]),d=i(e),c=await a.sign({name:"RSA-PSS",saltLength:32},n,d);return o(c)}catch(e){return console.error("Error signing message:",e),""}}async function g(e,r,t){try{let n=s(t),o=await a.importKey("spki",n,{name:"RSA-PSS",hash:"SHA-256"},!1,["verify"]),d=i(e),c=s(r);return await a.verify({name:"RSA-PSS",saltLength:32},o,c,d)}catch(e){return console.error("Error verifying signature:",e),!1}}},7687:(e,r,t)=>{t.d(r,{cn:()=>o});var n=t(6522),a=t(4483);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}},7786:(e,r,t)=>{t.d(r,{A:()=>y,Hh:()=>s,Jv:()=>i,LW:()=>f,aD:()=>h,eg:()=>l,ej:()=>u,iS:()=>g,jF:()=>m,kl:()=>d,st:()=>c,um:()=>p});var n=t(7124);let a=[{id:"1",name:"John Doe",studentId:"s12345678",email:"john.doe@student.edu",passwordHash:"",passwordSalt:"",department:"Computer Science",year:"3rd Year",phone:"+1 (555) 123-4567"},{id:"2",name:"Jane Smith",studentId:"s23456789",email:"jane.smith@student.edu",passwordHash:"",passwordSalt:"",department:"Information Systems",year:"2nd Year"},{id:"3",name:"Mike Johnson",studentId:"s34567890",email:"mike.johnson@student.edu",passwordHash:"",passwordSalt:"",department:"Computer Science",year:"4th Year"},{id:"4",name:"Sarah Wilson",studentId:"s45678901",email:"sarah.wilson@student.edu",passwordHash:"",passwordSalt:"",department:"Data Science",year:"3rd Year"}];(async function e(){for(let e of a){if(!e.passwordHash||!e.passwordSalt){let{hash:r,salt:t}=await (0,n.Er)("password123");e.passwordHash=r,e.passwordSalt=t}if(!e.publicKey||!e.privateKey)try{let{publicKey:r,privateKey:t}=await (0,n.TZ)();e.publicKey=r,e.privateKey=t}catch(e){console.error("Error generating key pair:",e)}}})().catch(console.error);let o=[];async function s(e,r,t){if(a.some(e=>e.email===r))return null;let{hash:o,salt:s}=await (0,n.Er)(t),i="",d="";try{let e=await (0,n.TZ)();i=e.publicKey,d=e.privateKey}catch(e){console.error("Error generating key pair during signup:",e)}let c={id:(a.length+1).toString(),name:e,studentId:function e(){let r=Math.floor(1e7+9e7*Math.random()).toString(),t="s".concat(r);return a.some(e=>e.studentId===t)?e():t}(),email:r,passwordHash:o,passwordSalt:s,publicKey:i,privateKey:d};return a.push(c),w(),c}async function i(e,r){let t=a.find(r=>r.email===e||r.studentId===e);return t&&await (0,n.BE)(r,t.passwordHash,t.passwordSalt)?t:null}function d(e){return a.find(r=>r.id===e)||null}function c(e){return e?a.filter(r=>r.studentId.toLowerCase().includes(e.toLowerCase())||r.name.toLowerCase().includes(e.toLowerCase())):[]}function l(e,r){let t=a.findIndex(r=>r.id===e);if(-1===t)return null;let{studentId:n,passwordHash:o,passwordSalt:s,...i}=r;return a[t]={...a[t],...i},w(),a[t]}async function u(e,r,t){let o=a.findIndex(r=>r.id===e);if(-1===o)return!1;let s=a[o];if(!await (0,n.BE)(r,s.passwordHash,s.passwordSalt))return!1;let{hash:i,salt:d}=await (0,n.Er)(t);return a[o]={...s,passwordHash:i,passwordSalt:d},w(),!0}async function p(e,r,n,a,s){try{let{encryptMessage:i,signMessage:d}=await Promise.resolve().then(t.bind(t,7124)),c=await i(n,s),l=await d(c,a),u={id:"msg-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)),senderId:e,receiverId:r,encryptedText:c,signature:l,timestamp:new Date().toISOString(),read:!1};return o.push(u),w(),u}catch(e){return console.error("Error sending encrypted message:",e),null}}function f(e,r){return o.filter(t=>t.senderId===e&&t.receiverId===r||t.senderId===r&&t.receiverId===e).sort((e,r)=>new Date(e.timestamp).getTime()-new Date(r.timestamp).getTime())}function g(e,r){o.forEach(t=>{t.senderId===e&&t.receiverId===r&&(t.read=!0)}),w()}function h(e,r){return o.filter(t=>t.senderId===e&&t.receiverId===r&&!t.read).length}function m(e){let r=new Set;return o.forEach(t=>{t.senderId===e&&r.add(t.receiverId),t.receiverId===e&&r.add(t.senderId)}),Array.from(r)}function y(e,r){let t=f(e,r);return 0===t.length?null:t[t.length-1]}function w(){try{localStorage.setItem("workspace_users",JSON.stringify(a)),localStorage.setItem("workspace_messages",JSON.stringify(o))}catch(e){console.error("Error saving data to localStorage:",e)}}!function(){try{let e=localStorage.getItem("workspace_users"),r=localStorage.getItem("workspace_messages");e&&(a.length=0,a.push(...JSON.parse(e))),r&&(o.length=0,o.push(...JSON.parse(r)))}catch(e){console.error("Error loading data from localStorage:",e)}}()}}]);